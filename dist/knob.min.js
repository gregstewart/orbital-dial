function Knob(a){"use strict",this.init(a),this.radius=this.calculateRadius(),this.bindEvents(),this.draw(this.calculatePosition(this.startAngle/180*Math.PI)),this.innerElement.is(":visible")||this.innerElement.show()}Knob.prototype.init=function(a){this.container=typeof a!="undefined"&&typeof a.containerSelector!="undefined"?$(a.containerSelector):$("#Knob"),this.innerElement=typeof a!="undefined"&&typeof a.innerSelector!="undefined"?$(a.innerSelector):$("#Slider"),this.containerWidth=this.container.data("width")||200,this.containerHeight=this.container.data("height")||200,this.innerElementWidth=this.innerElement.data("width")||50,this.innerElementHeight=this.innerElement.data("height")||50,this.startAngle=this.innerElement.data("start-angle")||0},Knob.prototype.bindEvents=function(){var a=this;this.innerElement.off("**"),this.container.on("mousedown",function(b){a.move(b)})},Knob.prototype.move=function(a){var b=this;$(document).on("mousemove",function(a){var c=null;c=b.calculateRelativePosition(a.pageX,a.pageY),c=b.calculatePIAngle(c.x,c.y),c=b.calculatePosition(c),b.draw(c)}).on("mouseup",function(a){$(document).off("mousemove mouseup")})},Knob.prototype.calculateRadius=function(){return Math.min(this.containerWidth,this.containerHeight)/2-Math.max(this.innerElementWidth,this.innerElementHeight)/2},Knob.prototype.calculatePosition=function(a){var b={},c=a,d=0,e=0,f=Math.min(this.containerWidth,this.containerHeight)/2,g=Math.max(this.innerElementWidth,this.innerElementHeight)/2;return d=this.radius*Math.cos(c),e=this.radius*Math.sin(c),b.x=f+e-g,b.y=f-d-g,b},Knob.prototype.calculatePIAngle=function(a,b){var c=Math.atan2(a,b);return c<0&&(c+=Math.PI*2),c},Knob.prototype.calculateRelativePosition=function(a,b){var c={},d=this.container.offset(),e=Math.max(this.containerWidth,this.containerHeight)/2;return c.x=a-d.left-e,c.y=d.top+e-b,c},Knob.prototype.draw=function(a){this.innerElement.css({left:a.x,top:a.y})};