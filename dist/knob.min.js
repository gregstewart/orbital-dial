function Knob(a){"use strict",this.init(a),this.radius=this.calculateRadius(),this.bindEvents(),this.draw(this.calculatePositionRelatedToCenter(this.startAngle/180*Math.PI)),this.innerElement.is(":visible")||this.innerElement.show(),typeof this.outerElement!="undefined"&&!this.outerElement.is(":visible")&&this.outerElement.show()}Knob.prototype.init=function(a){this.container=typeof a!="undefined"&&typeof a.containerSelector!="undefined"?$(a.containerSelector):$("#Knob"),this.innerElement=typeof a!="undefined"&&typeof a.innerSelector!="undefined"?$(a.innerSelector):$("#Slider"),typeof a!="undefined"&&typeof a.outerSelector!="undefined"&&(this.outerElement=$(a.outerSelector),this.outerElementWidth=this.outerElement.data("width")||50,this.outerElementHeight=this.outerElement.data("height")||50,this.outerRatio=this.outerElement.data("ratio")||6.5/7),this.containerWidth=this.container.data("width")||200,this.containerHeight=this.container.data("height")||200,this.innerElementWidth=this.innerElement.data("width")||50,this.innerElementHeight=this.innerElement.data("height")||50,this.innerRatio=this.innerElement.data("ratio")||1/3,this.startAngle=this.innerElement.data("start-angle")||0},Knob.prototype.bindEvents=function(){var a=this;this.innerElement.off("**"),this.container.on("mousedown touchstart",function(b){a.move(b)})},Knob.prototype.move=function(a){var b=this;$(document).on("mousemove touchmove",function(a){var c=null;c=b.calculateRelativePosition(a.pageX,a.pageY),c=b.calculatePIAngle(c.x,c.y),c=b.calculatePositionRelatedToCenter(c),b.draw(c)}).on("mouseup touchend",function(a){$(document).off("mousemove mouseup touchmove touchend")})},Knob.prototype.calculateRadius=function(){return Math.min(this.containerWidth,this.containerHeight)/2-Math.max(this.innerElementWidth,this.innerElementHeight)/2},Knob.prototype.calculatePositionRelatedToCenter=function(a){var b={},c=a;return b.x=this.radius*Math.cos(c),b.y=this.radius*Math.sin(c),b},Knob.prototype.calculatePIAngle=function(a,b){var c=Math.atan2(a,b);return c<0&&(c+=Math.PI*2),c},Knob.prototype.calculateRelativePosition=function(a,b){var c={},d=this.container.offset(),e=Math.max(this.containerWidth,this.containerHeight)/2;return c.x=a-d.left-e,c.y=d.top+e-b,c},Knob.prototype.draw=function(a){var b=Math.min(this.containerWidth,this.containerHeight)/2,c=Math.max(this.innerElementWidth,this.innerElementHeight)/2,d=b+a.y*this.innerRatio-c,e=b-a.x*this.innerRatio-c;this.innerElement.css({left:d,top:e}),typeof this.outerElement!="undefined"&&(c=Math.max(this.outerElementWidth,this.outerElementHeight)/2,d=b+a.y*this.outerRatio-c,e=b-a.x*this.outerRatio-c,this.outerElement.css({left:d,top:e}))};